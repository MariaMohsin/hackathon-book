"use strict";(self.webpackChunkai_native_book=self.webpackChunkai_native_book||[]).push([[37],{1046:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>r,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"gazebo-unity/integrating-robots","title":"Integrating Robots in Simulation","description":"Overview","source":"@site/docs/gazebo-unity/integrating-robots.md","sourceDirName":"gazebo-unity","slug":"/gazebo-unity/integrating-robots","permalink":"/docs/gazebo-unity/integrating-robots","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/docs/docs/gazebo-unity/integrating-robots.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"Integrating Robots in Simulation","sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Simulation Basics","permalink":"/docs/gazebo-unity/simulation-basics"},"next":{"title":"Vision-Language-Action (VLA)","permalink":"/docs/category/vision-language-action-vla"}}');var s=i(4848),t=i(8453);const r={title:"Integrating Robots in Simulation",sidebar_position:2},a="Integrating Robots in Simulation",l={},d=[{value:"Overview",id:"overview",level:2},{value:"Robot Description Format",id:"robot-description-format",level:2},{value:"URDF (Unified Robot Description Format)",id:"urdf-unified-robot-description-format",level:3},{value:"SDRF (Semantic Robot Description Format)",id:"sdrf-semantic-robot-description-format",level:3},{value:"Setting Up a Robot in Gazebo",id:"setting-up-a-robot-in-gazebo",level:2},{value:"Step 1: Create a Package",id:"step-1-create-a-package",level:3},{value:"Step 2: Add Robot Files",id:"step-2-add-robot-files",level:3},{value:"Step 3: Create Launch File",id:"step-3-create-launch-file",level:3},{value:"Setting Up a Robot in Unity",id:"setting-up-a-robot-in-unity",level:2},{value:"Step 1: Import Robot Model",id:"step-1-import-robot-model",level:3},{value:"Step 2: Add Physics",id:"step-2-add-physics",level:3},{value:"Step 3: Add ROS 2 Publishers/Subscribers",id:"step-3-add-ros-2-publisherssubscribers",level:3},{value:"Sensor Integration",id:"sensor-integration",level:2},{value:"Adding a Camera Sensor",id:"adding-a-camera-sensor",level:3},{value:"Adding a Lidar Sensor",id:"adding-a-lidar-sensor",level:3},{value:"Common Issues and Solutions",id:"common-issues-and-solutions",level:2},{value:"Issue: Model Not Loading",id:"issue-model-not-loading",level:3},{value:"Issue: Physics Not Working",id:"issue-physics-not-working",level:3},{value:"Issue: ROS 2 Communication Not Working",id:"issue-ros-2-communication-not-working",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Next Steps",id:"next-steps",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"integrating-robots-in-simulation",children:"Integrating Robots in Simulation"})}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(n.p,{children:"Integrating robot models into your simulation environment is crucial for developing and testing robotics applications. This guide covers how to work with robot models in both Gazebo and Unity."}),"\n",(0,s.jsx)(n.h2,{id:"robot-description-format",children:"Robot Description Format"}),"\n",(0,s.jsx)(n.h3,{id:"urdf-unified-robot-description-format",children:"URDF (Unified Robot Description Format)"}),"\n",(0,s.jsx)(n.p,{children:"URDF is an XML format for describing a robot's kinematics and dynamics:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot name="my_robot">\n  <link name="base_link">\n    <visual>\n      <geometry>\n        <box size="0.1 0.1 0.2"/>\n      </geometry>\n    </visual>\n  </link>\n  \n  <link name="wheel_link">\n    <visual>\n      <geometry>\n        <cylinder length="0.05" radius="0.1"/>\n      </geometry>\n    </visual>\n  </link>\n  \n  <joint name="wheel_joint" type="revolute">\n    <parent link="base_link"/>\n    <child link="wheel_link"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="0" upper="0" effort="100" velocity="1"/>\n  </joint>\n</robot>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"sdrf-semantic-robot-description-format",children:"SDRF (Semantic Robot Description Format)"}),"\n",(0,s.jsx)(n.p,{children:"SRDF adds semantic information to URDF:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot name="my_robot">\n  <group name="base">\n    <joint name="wheel_joint"/>\n  </group>\n</robot>\n'})}),"\n",(0,s.jsx)(n.h2,{id:"setting-up-a-robot-in-gazebo",children:"Setting Up a Robot in Gazebo"}),"\n",(0,s.jsx)(n.h3,{id:"step-1-create-a-package",children:"Step 1: Create a Package"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ros2 pkg create my_robot_description\n"})}),"\n",(0,s.jsx)(n.h3,{id:"step-2-add-robot-files",children:"Step 2: Add Robot Files"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"my_robot_description/\n\u251c\u2500\u2500 urdf/\n\u2502   \u2514\u2500\u2500 my_robot.urdf.xacro\n\u251c\u2500\u2500 meshes/\n\u2502   \u251c\u2500\u2500 visual/\n\u2502   \u2514\u2500\u2500 collision/\n\u2514\u2500\u2500 launch/\n    \u2514\u2500\u2500 gazebo.launch.py\n"})}),"\n",(0,s.jsx)(n.h3,{id:"step-3-create-launch-file",children:"Step 3: Create Launch File"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"from launch import LaunchDescription\nfrom launch_ros.actions import Node\n\ndef generate_launch_description():\n    return LaunchDescription([\n        Node(\n            package='gazebo_ros',\n            executable='spawn_entity.py',\n            arguments=['-entity', 'my_robot', '-topic', 'robot_description'],\n            output='screen'\n        )\n    ])\n"})}),"\n",(0,s.jsx)(n.h2,{id:"setting-up-a-robot-in-unity",children:"Setting Up a Robot in Unity"}),"\n",(0,s.jsx)(n.h3,{id:"step-1-import-robot-model",children:"Step 1: Import Robot Model"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Export URDF to Unity-compatible format"}),"\n",(0,s.jsx)(n.li,{children:"Import FBX or OBJ meshes"}),"\n",(0,s.jsx)(n.li,{children:"Create prefab components"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"step-2-add-physics",children:"Step 2: Add Physics"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Add Rigidbody components"}),"\n",(0,s.jsx)(n.li,{children:"Create colliders for each link"}),"\n",(0,s.jsx)(n.li,{children:"Configure constraints for joints"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"step-3-add-ros-2-publisherssubscribers",children:"Step 3: Add ROS 2 Publishers/Subscribers"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:'using ROS2;\nusing geometry_msgs.msg;\n\npublic class RobotController : MonoBehaviour\n{\n    private ROS2UnityComponent ros2;\n    private IPublisher<Twist> cmdVelPublisher;\n    \n    void Start()\n    {\n        ros2 = GetComponent<ROS2UnityComponent>();\n        cmdVelPublisher = ros2.CreatePublisher<Twist>("cmd_vel");\n    }\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"sensor-integration",children:"Sensor Integration"}),"\n",(0,s.jsx)(n.h3,{id:"adding-a-camera-sensor",children:"Adding a Camera Sensor"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Gazebo:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<sensor name="camera" type="camera">\n  <camera>\n    <horizontal_fov>1.047</horizontal_fov>\n    <image>\n      <width>640</width>\n      <height>480</height>\n    </image>\n  </camera>\n</sensor>\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Unity:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:"var camera = GetComponent<Camera>();\n// Configure ROS 2 publisher for images\n"})}),"\n",(0,s.jsx)(n.h3,{id:"adding-a-lidar-sensor",children:"Adding a Lidar Sensor"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Gazebo:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<sensor name="lidar" type="ray">\n  <ray>\n    <scan>\n      <horizontal>\n        <samples>360</samples>\n      </horizontal>\n    </scan>\n    <range>\n      <min>0.1</min>\n      <max>10.0</max>\n    </range>\n  </ray>\n</sensor>\n'})}),"\n",(0,s.jsx)(n.h2,{id:"common-issues-and-solutions",children:"Common Issues and Solutions"}),"\n",(0,s.jsx)(n.h3,{id:"issue-model-not-loading",children:"Issue: Model Not Loading"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Check file paths are correct"}),"\n",(0,s.jsx)(n.li,{children:"Verify URDF syntax is valid"}),"\n",(0,s.jsx)(n.li,{children:"Ensure all mesh files exist"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"issue-physics-not-working",children:"Issue: Physics Not Working"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Verify inertial properties are set"}),"\n",(0,s.jsx)(n.li,{children:"Check collision geometry is defined"}),"\n",(0,s.jsx)(n.li,{children:"Adjust physics timestep if needed"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"issue-ros-2-communication-not-working",children:"Issue: ROS 2 Communication Not Working"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Verify ROS_DOMAIN_ID matches"}),"\n",(0,s.jsx)(n.li,{children:"Check topic names match"}),"\n",(0,s.jsx)(n.li,{children:"Monitor message flow with ros2 topic echo"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Keep robot models modular and reusable"}),"\n",(0,s.jsx)(n.li,{children:"Use Xacro macros to reduce URDF duplication"}),"\n",(0,s.jsx)(n.li,{children:"Test sensors individually before full integration"}),"\n",(0,s.jsx)(n.li,{children:"Document your model structure"}),"\n",(0,s.jsx)(n.li,{children:"Version control all robot description files"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,s.jsxs)(n.p,{children:["Explore ",(0,s.jsx)(n.a,{href:"../ros2/understanding-ros2",children:"ROS 2 documentation"})," to better understand how to control your integrated robots."]})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>a});var o=i(6540);const s={},t=o.createContext(s);function r(e){const n=o.useContext(t);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),o.createElement(t.Provider,{value:n},e.children)}}}]);